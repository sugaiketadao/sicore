<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SqlUtil - JavaDoc</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="header">
    <div class="header-content">
      <h1>SqlUtil</h1>
      <p>Framework Components [com.onepg.db]</p>
      <a href="index.html" class="back-link">‚Üê Back to Class List</a>
    </div>
  </div>
  <div class="main">
    <div class="section">
      <h2>Class Information</h2>
      <div class="class-details">
        <p><strong>Package:</strong> com.onepg.db</p>
        <p><strong>Class Name:</strong> SqlUtil</p>
      </div>
      <div class="class-description">
        <h3>Description</h3>
        <div>SQL execution utility class.
</div>
      </div>
    </div>
    <div class="section">
      <h2>Constants and Variables</h2>
      <div class="field-list">
        <div class="field-item" id="ORACLE_PROTOCOL_ERR_AVOID_SQL">
          <h3 class="field-name">ORACLE_PROTOCOL_ERR_AVOID_SQL</h3>
          <div class="field-signature">
            <code>public String ORACLE_PROTOCOL_ERR_AVOID_SQL</code>
          </div>
          <div class="field-description">
            SQL to avoid Oracle protocol violation errors.<br>
<a href="https://support.oracle.com/knowledge/Middleware/2707017_1.html">support.oracle.com (reference)</a>
  
          </div>
        </div>
      </div>
    </div>
    <div class="section">
      <h2>Method List</h2>
      <div class="method" id="selectOneExists">
        <h3 class="method-name">selectOneExists</h3>
        <div class="method-signature">
          <code>public IoItems selectOneExists(Connection conn, SqlBean sb)</code>
        </div>
        <div class="method-description">
          Retrieves a single record (throws an error if no record exists).<br>
<ul>
<li>Use this method when exactly one matching record is expected to exist.</li>
<li>Throws an exception if the result is zero records.</li>
<li>Throws an exception if multiple records are returned.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>sb</code></td>
                <td><code>SqlBean</code></td>
                <td>the SQL Bean</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>IoItems</code> - the row data map</p>
        </div>
      </div>
      <div class="method" id="selectOne">
        <h3 class="method-name">selectOne</h3>
        <div class="method-signature">
          <code>public IoItems selectOne(Connection conn, SqlBean sb)</code>
        </div>
        <div class="method-description">
          Retrieves a single record.<br>
<ul>
<li>Use this method when exactly one matching record is expected to exist.</li>
<li>Returns <code>null</code> if the result is zero records.</li>
<li>Throws an exception if multiple records are returned.</li>
<li>Physical field names are in lowercase. (key rule of <code>AbstractIoTypeMap</code>)</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>sb</code></td>
                <td><code>SqlBean</code></td>
                <td>the SQL Bean</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>IoItems</code> - the row data map</p>
        </div>
      </div>
      <div class="method" id="selectOneMultiIgnore">
        <h3 class="method-name">selectOneMultiIgnore</h3>
        <div class="method-signature">
          <code>public IoItems selectOneMultiIgnore(Connection conn, SqlBean sb)</code>
        </div>
        <div class="method-description">
          Retrieves a single record (multiple records allowed).<br>
<ul>
<li>Returns <code>null</code> if the result is zero records.</li>
<li>Returns the first record without error even if multiple records are retrieved.</li>
<li>Physical field names are in lowercase. (key rule of <code>AbstractIoTypeMap</code>)</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>sb</code></td>
                <td><code>SqlBean</code></td>
                <td>the SQL Bean</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>IoItems</code> - the row data map</p>
        </div>
      </div>
      <div class="method" id="select">
        <h3 class="method-name">select</h3>
        <div class="method-signature">
          <code>public SqlResultSet select(Connection conn, SqlBean sb)</code>
        </div>
        <div class="method-description">
          Retrieves multiple records.<br>
<ul>
<li>Returns a <code>SqlResultSet</code>.</li>
<li>Physical field names of row maps obtained from the <code>SqlResultSet</code> iterator are in lowercase. (key rule of <code>AbstractIoTypeMap</code>)</li>
<li>Use in a try statement (try-with-resources).</li>
<li>The default fetch size in this class is 500. Use <code>SqlUtil#selectFetchAll(Connection, SqlBean)</code> to fetch all records.</li>
<li>Notes on fetch size per DBMS:
<ul>
<li>Oracle defaults to 10, which is small, so specify the fetch size.</li>
<li>PostgreSQL defaults to fetching all records, which may cause OutOfMemory, so specify the fetch size.</li>
<li>With PostgreSQL, specifying a fetch size (without fetching all), updating retrieved data, and performing intermediate commits causes a cursor invalidation error (SQLSTATE 34000). In that case, stop intermediate commits or fetch all records.<br>
Alternatively, though more complex, splitting data retrieval using a SQL LIMIT clause also resolves the issue.</li>
<li>With MS SQL Server, specifying a fetch size may not work as expected, so use a SQL LIMIT clause to split data retrieval if OutOfMemory is a concern.</li>
</ul>
</li>
</ul>
<pre>[Example]
<code>try (final SqlResultSet rSet = SqlUtil.select(getDbConn(), sqlBuilder);) {
  for (final IoItems row : rSet) {
    : (omitted)
  }
  if (rSet.getReadedCount() <= 0) {
    // Zero records.
  }
}</code>
</pre>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>sb</code></td>
                <td><code>SqlBean</code></td>
                <td>the SQL Bean</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>SqlResultSet</code> - the SQL result set</p>
        </div>
      </div>
      <div class="method" id="selectFetchAll">
        <h3 class="method-name">selectFetchAll</h3>
        <div class="method-signature">
          <code>public SqlResultSet selectFetchAll(Connection conn, SqlBean sb)</code>
        </div>
        <div class="method-description">
          Retrieves multiple records (fetches all records).<br>
<ul>
<li>Do not use this method in general.</li>
<li>Use this method only when issues occur without fetching all records.</li>
<li>Retrieving a large number of records with this method may cause an OutOfMemory error.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>sb</code></td>
                <td><code>SqlBean</code></td>
                <td>the SQL Bean</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>SqlResultSet</code> - the SQL result set</p>
        </div>
        <div class="see-also">
          <h4>See Also</h4>
          <ul>
            <li><a href="#select">#select(Connection, SqlBean)</a></li>
          </ul>
        </div>
      </div>
      <div class="method" id="selectBulk">
        <h3 class="method-name">selectBulk</h3>
        <div class="method-signature">
          <code>public IoRows selectBulk(Connection conn, SqlBean sb, int limitCount)</code>
        </div>
        <div class="method-description">
          Retrieves multiple records in bulk.<br>
<ul>
<li>Returns a list of multiple rows.</li>
<li>Returns an empty list if the result is zero records.</li>
<li>Physical field names of each row map are in lowercase. (key rule of <code>AbstractIoTypeMap</code>)</li>
<li>Use <code>#select(Connection, SqlBean)</code> for loop processing since this method consumes memory.</li>
<li>Retrieving a large number of records with this method may cause an OutOfMemory error.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>sb</code></td>
                <td><code>SqlBean</code></td>
                <td>the SQL Bean</td>
              </tr>
              <tr>
                <td><code>limitCount</code></td>
                <td><code>int</code></td>
                <td>the maximum number of records to retrieve</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>IoRows</code> - the list of multiple rows</p>
        </div>
      </div>
      <div class="method" id="selectBulkAll">
        <h3 class="method-name">selectBulkAll</h3>
        <div class="method-signature">
          <code>public IoRows selectBulkAll(Connection conn, SqlBean sb)</code>
        </div>
        <div class="method-description">
          Retrieves all records in bulk.<br>
<ul>
<li>Returns a list of multiple rows.</li>
<li>Returns an empty list if the result is zero records.</li>
<li>Physical field names of each row map are in lowercase. (key rule of <code>AbstractIoTypeMap</code>)</li>
<li>Use <code>#select(Connection, SqlBean)</code> for loop processing since this method consumes memory.</li>
<li>Retrieving a large number of records with this method may cause an OutOfMemory error.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>sb</code></td>
                <td><code>SqlBean</code></td>
                <td>the SQL Bean</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>IoRows</code> - the list of multiple rows</p>
        </div>
      </div>
      <div class="method" id="insertOne">
        <h3 class="method-name">insertOne</h3>
        <div class="method-signature">
          <code>public boolean insertOne(Connection conn, String tableName, AbstractIoTypeMap params)</code>
        </div>
        <div class="method-description">
          Inserts a single record into the specified table.<br>
<ul>
<li>Inserts one record into the specified table.</li>
<li>Parameters not present in the table are ignored.</li>
<li>Note: if a column is added to the table after implementation and that column name already exists in the parameters, values will be inserted into the new column without modifying the implementation.</li>
<li>Throws an exception if the number of affected rows is zero for reasons other than a unique constraint violation.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
              <tr>
                <td><code>params</code></td>
                <td><code>AbstractIoTypeMap</code></td>
                <td>the parameter values</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>boolean</code> - <code>false</code> if a unique constraint violation occurs; <code>true</code> if the record was successfully inserted</p>
        </div>
      </div>
      <div class="method" id="insertOne">
        <h3 class="method-name">insertOne</h3>
        <div class="method-signature">
          <code>public boolean insertOne(Connection conn, String tableName, AbstractIoTypeMap params, String tsItem)</code>
        </div>
        <div class="method-description">
          Inserts a single record into the specified table (with automatic timestamp setting).<br>
<ul>
<li>Inserts one record into the specified table.</li>
<li>Sets the timestamp for optimistic locking.</li>
<li>Parameters not present in the table are ignored.</li>
<li>Note: if a column is added to the table after implementation and that column name already exists in the parameters, values will be inserted into the new column without modifying the implementation.</li>
<li>Throws an exception if the number of affected rows is zero for reasons other than a unique constraint violation.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
              <tr>
                <td><code>params</code></td>
                <td><code>AbstractIoTypeMap</code></td>
                <td>the parameter values</td>
              </tr>
              <tr>
                <td><code>tsItem</code></td>
                <td><code>String</code></td>
                <td>the timestamp column name (for optimistic locking)</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>boolean</code> - <code>false</code> if a unique constraint violation occurs; <code>true</code> if the record was successfully inserted</p>
        </div>
      </div>
      <div class="method" id="updateOne">
        <h3 class="method-name">updateOne</h3>
        <div class="method-signature">
          <code>public boolean updateOne(Connection conn, String tableName, AbstractIoTypeMap params, String[] keyItems)</code>
        </div>
        <div class="method-description">
          Updates a single record in the specified table.<br>
<ul>
<li>Updates one record in the specified table.</li>
<li>Throws an exception if multiple records are updated.</li>
<li>Parameters not present in the table are ignored.</li>
<li>Note: if a column is added to the table after implementation and that column name already exists in the parameters, values will be updated in the new column without modifying the implementation.</li>
<li>A WHERE clause is built using the key columns.</li>
<li>Key columns MUST be included in the parameter values.</li>
<li>Key column names MUST be specified in lowercase. (key rule of <code>AbstractIoTypeMap</code>)</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
              <tr>
                <td><code>params</code></td>
                <td><code>AbstractIoTypeMap</code></td>
                <td>the parameter values (including key columns)</td>
              </tr>
              <tr>
                <td><code>keyItems</code></td>
                <td><code>String[]</code></td>
                <td>the key column names</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>boolean</code> - <code>true</code> if one record was updated; <code>false</code> if zero records were updated</p>
        </div>
      </div>
      <div class="method" id="updateOne">
        <h3 class="method-name">updateOne</h3>
        <div class="method-signature">
          <code>public boolean updateOne(Connection conn, String tableName, AbstractIoTypeMap params, String[] keyItems, String tsItem)</code>
        </div>
        <div class="method-description">
          Updates a single record in the specified table (with timestamp optimistic locking).<br>
<ul>
<li>Updates one record in the specified table.</li>
<li>Throws an exception if multiple records are updated.</li>
<li>Performs optimistic locking using a timestamp.</li>
<li>Parameters not present in the table are ignored.</li>
<li>Note: if a column is added to the table after implementation and that column name already exists in the parameters, values will be updated in the new column without modifying the implementation.</li>
<li>A WHERE clause is built using the key columns and the timestamp column (for locking).</li>
<li>Key columns and the timestamp column MUST be included in the parameter values.</li>
<li>Key column names and the timestamp column name MUST be specified in lowercase. (key rule of <code>AbstractIoTypeMap</code>)</li>
<li>The timestamp column is updated to the current date and time.</li>
<li>Use <code>#updateOne(Connection, String, AbstractIoTypeMap, String[])</code> if timestamp optimistic locking is not required.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
              <tr>
                <td><code>params</code></td>
                <td><code>AbstractIoTypeMap</code></td>
                <td>the parameter values (including key columns and the timestamp column)</td>
              </tr>
              <tr>
                <td><code>keyItems</code></td>
                <td><code>String[]</code></td>
                <td>the key column names</td>
              </tr>
              <tr>
                <td><code>tsItem</code></td>
                <td><code>String</code></td>
                <td>the timestamp column name (for optimistic locking)</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>boolean</code> - <code>true</code> if one record was updated; <code>false</code> if zero records were updated</p>
        </div>
      </div>
      <div class="method" id="updateOneByPkey">
        <h3 class="method-name">updateOneByPkey</h3>
        <div class="method-signature">
          <code>public boolean updateOneByPkey(Connection conn, String tableName, AbstractIoTypeMap params)</code>
        </div>
        <div class="method-description">
          Updates a single record in the specified table by primary key.<br>
<ul>
<li>Updates one record in the specified table.</li>
<li>Throws an exception if multiple records are updated.</li>
<li>Parameters not present in the table are ignored.</li>
<li>Note: if a column is added to the table after implementation and that column name already exists in the parameters, values will be updated in the new column without modifying the implementation.</li>
<li>A WHERE clause is built using the primary key columns of the table.</li>
<li>Throws an exception if the table has no primary key.</li>
<li>Primary key columns MUST be included in the parameter values.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
              <tr>
                <td><code>params</code></td>
                <td><code>AbstractIoTypeMap</code></td>
                <td>the parameter values (including primary key columns)</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>boolean</code> - <code>true</code> if one record was updated; <code>false</code> if zero records were updated</p>
        </div>
      </div>
      <div class="method" id="updateOneByPkey">
        <h3 class="method-name">updateOneByPkey</h3>
        <div class="method-signature">
          <code>public boolean updateOneByPkey(Connection conn, String tableName, AbstractIoTypeMap params, String tsItem)</code>
        </div>
        <div class="method-description">
          Updates a single record in the specified table by primary key (with timestamp optimistic locking).<br>
<ul>
<li>Updates one record in the specified table.</li>
<li>Throws an exception if multiple records are updated.</li>
<li>Performs optimistic locking using a timestamp.</li>
<li>Parameters not present in the table are ignored.</li>
<li>Note: if a column is added to the table after implementation and that column name already exists in the parameters, values will be updated in the new column without modifying the implementation.</li>
<li>A WHERE clause is built using the primary key columns and the timestamp column (for locking).</li>
<li>Throws an exception if the table has no primary key.</li>
<li>Primary key columns and the timestamp column MUST be included in the parameter values.</li>
<li>The timestamp column name MUST be specified in lowercase. (key rule of <code>AbstractIoTypeMap</code>)</li>
<li>The timestamp column is updated to the current date and time.</li>
<li>Use <code>#updateOneByPkey(Connection, String, AbstractIoTypeMap)</code> if timestamp optimistic locking is not required.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
              <tr>
                <td><code>params</code></td>
                <td><code>AbstractIoTypeMap</code></td>
                <td>the parameter values (including primary key columns and the timestamp column)</td>
              </tr>
              <tr>
                <td><code>tsItem</code></td>
                <td><code>String</code></td>
                <td>the timestamp column name (for optimistic locking)</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>boolean</code> - <code>true</code> if one record was updated; <code>false</code> if zero records were updated</p>
        </div>
      </div>
      <div class="method" id="update">
        <h3 class="method-name">update</h3>
        <div class="method-signature">
          <code>public int update(Connection conn, String tableName, AbstractIoTypeMap params, String[] whereItems)</code>
        </div>
        <div class="method-description">
          Updates multiple records in the specified table.<br>
<ul>
<li>Updates multiple records in the specified table.</li>
<li>Parameters not present in the table are ignored.</li>
<li>Note: if a column is added to the table after implementation and that column name already exists in the parameters, values will be updated in the new column without modifying the implementation.</li>
<li>A WHERE clause is built using the search condition columns.</li>
<li>Search condition columns MUST be included in the parameter values.</li>
<li>Search condition column names MUST be specified in lowercase. (key rule of <code>AbstractIoTypeMap</code>)</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
              <tr>
                <td><code>params</code></td>
                <td><code>AbstractIoTypeMap</code></td>
                <td>the parameter values (including search condition columns)</td>
              </tr>
              <tr>
                <td><code>whereItems</code></td>
                <td><code>String[]</code></td>
                <td>the search condition column names (optional; pass <code>null</code> if omitted)</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>int</code> - the number of updated records</p>
        </div>
      </div>
      <div class="method" id="updateAll">
        <h3 class="method-name">updateAll</h3>
        <div class="method-signature">
          <code>public int updateAll(Connection conn, String tableName, AbstractIoTypeMap params)</code>
        </div>
        <div class="method-description">
          Updates all records in the specified table.<br>
<ul>
<li>Updates all records in the specified table.</li>
<li>Parameters not present in the table are ignored.</li>
<li>Note: if a column is added to the table after implementation and that column name already exists in the parameters, values will be updated in the new column without modifying the implementation.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
              <tr>
                <td><code>params</code></td>
                <td><code>AbstractIoTypeMap</code></td>
                <td>the parameter values</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>int</code> - the number of updated records</p>
        </div>
      </div>
      <div class="method" id="deleteOne">
        <h3 class="method-name">deleteOne</h3>
        <div class="method-signature">
          <code>public boolean deleteOne(Connection conn, String tableName, AbstractIoTypeMap params, String[] keyItems)</code>
        </div>
        <div class="method-description">
          Deletes a single record from the specified table.<br>
<ul>
<li>Deletes one record from the specified table.</li>
<li>Throws an exception if multiple records are deleted.</li>
<li>A WHERE clause is built using the key columns.</li>
<li>Key columns MUST be included in the parameter values.</li>
<li>Parameters that are not key columns are ignored.</li>
<li>Key column names MUST be specified in lowercase. (key rule of <code>AbstractIoTypeMap</code>)</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
              <tr>
                <td><code>params</code></td>
                <td><code>AbstractIoTypeMap</code></td>
                <td>the parameter values (including key columns)</td>
              </tr>
              <tr>
                <td><code>keyItems</code></td>
                <td><code>String[]</code></td>
                <td>the key column names</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>boolean</code> - <code>true</code> if one record was deleted; <code>false</code> if zero records were deleted</p>
        </div>
      </div>
      <div class="method" id="deleteOne">
        <h3 class="method-name">deleteOne</h3>
        <div class="method-signature">
          <code>public boolean deleteOne(Connection conn, String tableName, AbstractIoTypeMap params, String[] keyItems, String tsItem)</code>
        </div>
        <div class="method-description">
          Deletes a single record from the specified table (with timestamp optimistic locking).<br>
<ul>
<li>Deletes one record from the specified table.</li>
<li>Throws an exception if multiple records are deleted.</li>
<li>Performs optimistic locking using a timestamp.</li>
<li>A WHERE clause is built using the key columns and the timestamp column (for locking).</li>
<li>Key columns and the timestamp column MUST be included in the parameter values.</li>
<li>Parameters that are neither key columns nor the timestamp column are ignored.</li>
<li>Key column names and the timestamp column name MUST be specified in lowercase. (key rule of <code>AbstractIoTypeMap</code>)</li>
<li>Use <code>#deleteOne(Connection, String, AbstractIoTypeMap, String[])</code> if timestamp optimistic locking is not required.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
              <tr>
                <td><code>params</code></td>
                <td><code>AbstractIoTypeMap</code></td>
                <td>the parameter values (including key columns and the timestamp column)</td>
              </tr>
              <tr>
                <td><code>keyItems</code></td>
                <td><code>String[]</code></td>
                <td>the key column names</td>
              </tr>
              <tr>
                <td><code>tsItem</code></td>
                <td><code>String</code></td>
                <td>the timestamp column name (for optimistic locking)</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>boolean</code> - <code>true</code> if one record was deleted; <code>false</code> if zero records were deleted</p>
        </div>
      </div>
      <div class="method" id="deleteOneByPkey">
        <h3 class="method-name">deleteOneByPkey</h3>
        <div class="method-signature">
          <code>public boolean deleteOneByPkey(Connection conn, String tableName, AbstractIoTypeMap params)</code>
        </div>
        <div class="method-description">
          Deletes a single record from the specified table by primary key.<br>
<ul>
<li>Deletes one record from the specified table.</li>
<li>Throws an exception if multiple records are deleted.</li>
<li>A WHERE clause is built using the primary key columns of the table.</li>
<li>Throws an exception if the table has no primary key.</li>
<li>Primary key columns MUST be included in the parameter values.</li>
<li>Parameters that are not primary key columns are ignored.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
              <tr>
                <td><code>params</code></td>
                <td><code>AbstractIoTypeMap</code></td>
                <td>the parameter values (including primary key columns)</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>boolean</code> - <code>true</code> if one record was deleted; <code>false</code> if zero records were deleted</p>
        </div>
      </div>
      <div class="method" id="deleteOneByPkey">
        <h3 class="method-name">deleteOneByPkey</h3>
        <div class="method-signature">
          <code>public boolean deleteOneByPkey(Connection conn, String tableName, AbstractIoTypeMap params, String tsItem)</code>
        </div>
        <div class="method-description">
          Deletes a single record from the specified table by primary key (with timestamp optimistic locking).<br>
<ul>
<li>Deletes one record from the specified table.</li>
<li>Throws an exception if multiple records are deleted.</li>
<li>Performs optimistic locking using a timestamp.</li>
<li>A WHERE clause is built using the primary key columns and the timestamp column (for locking).</li>
<li>Throws an exception if the table has no primary key.</li>
<li>Primary key columns and the timestamp column MUST be included in the parameter values.</li>
<li>Parameters that are neither primary key columns nor the timestamp column are ignored.</li>
<li>The timestamp column name MUST be specified in lowercase. (key rule of <code>AbstractIoTypeMap</code>)</li>
<li>Use <code>#deleteOneByPkey(Connection, String, AbstractIoTypeMap)</code> if timestamp optimistic locking is not required.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
              <tr>
                <td><code>params</code></td>
                <td><code>AbstractIoTypeMap</code></td>
                <td>the parameter values (including primary key columns and the timestamp column)</td>
              </tr>
              <tr>
                <td><code>tsItem</code></td>
                <td><code>String</code></td>
                <td>the timestamp column name (for optimistic locking)</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>boolean</code> - <code>true</code> if one record was deleted; <code>false</code> if zero records were deleted</p>
        </div>
      </div>
      <div class="method" id="delete">
        <h3 class="method-name">delete</h3>
        <div class="method-signature">
          <code>public int delete(Connection conn, String tableName, AbstractIoTypeMap params, String[] whereItems)</code>
        </div>
        <div class="method-description">
          Deletes multiple records from the specified table.<br>
<ul>
<li>Deletes multiple records from the specified table.</li>
<li>A WHERE clause is built using the search condition columns.</li>
<li>Search condition columns MUST be included in the parameter values.</li>
<li>Search condition column names MUST be specified in lowercase. (key rule of <code>AbstractIoTypeMap</code>)</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
              <tr>
                <td><code>params</code></td>
                <td><code>AbstractIoTypeMap</code></td>
                <td>the parameter values (including search condition columns)</td>
              </tr>
              <tr>
                <td><code>whereItems</code></td>
                <td><code>String[]</code></td>
                <td>the search condition column names</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>int</code> - the number of deleted records</p>
        </div>
      </div>
      <div class="method" id="deleteAll">
        <h3 class="method-name">deleteAll</h3>
        <div class="method-signature">
          <code>public int deleteAll(Connection conn, String tableName)</code>
        </div>
        <div class="method-description">
          Deletes all records from the specified table.<br>
<ul>
<li>Deletes all records from the specified table.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>the database connection</td>
              </tr>
              <tr>
                <td><code>tableName</code></td>
                <td><code>String</code></td>
                <td>the table name</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>int</code> - the number of deleted records</p>
        </div>
      </div>
      <div class="method" id="executeOne">
        <h3 class="method-name">executeOne</h3>
        <div class="method-signature">
          <code>public boolean executeOne(Connection conn, SqlBean sb)</code>
        </div>
        <div class="method-description">
          Executes insert, update, or delete for a single record (SQL).<br>
<ul>
<li>Throws an exception error if multiple records are affected.</li>
</ul>

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>database connection</td>
              </tr>
              <tr>
                <td><code>sb</code></td>
                <td><code>SqlBean</code></td>
                <td>SQL Bean</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>boolean</code> - <code>true</code> if one record is affected, <code>false</code> if zero</p>
        </div>
      </div>
      <div class="method" id="execute">
        <h3 class="method-name">execute</h3>
        <div class="method-signature">
          <code>public int execute(Connection conn, SqlBean sb)</code>
        </div>
        <div class="method-description">
          Executes insert, update, or delete (SQL).

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>database connection</td>
              </tr>
              <tr>
                <td><code>sb</code></td>
                <td><code>SqlBean</code></td>
                <td>SQL Bean</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>int</code> - the number of affected records</p>
        </div>
      </div>
      <div class="method" id="getToday">
        <h3 class="method-name">getToday</h3>
        <div class="method-signature">
          <code>public String getToday(Connection conn)</code>
        </div>
        <div class="method-description">
          Retrieves the current date per DBMS.

        </div>
        <div class="method-parameters">
          <h4>Parameters</h4>
          <table class="parameter-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>conn</code></td>
                <td><code>Connection</code></td>
                <td>database connection</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="method-returns">
          <h4>Return Value</h4>
          <p><code>String</code> - the current date (YYYYMMDD format)</p>
        </div>
      </div>
    </div>
  </div>
  <div class="footer">
    <p>Generated by JavaDocGenerator - 2026</p>
  </div>
</body>
</html>
